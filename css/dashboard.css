:root{
  --sidebar-w: 360px;
  --bg: #f5f8ff;
  --ink:#1f2a44;
  --card:#fff;
  --brand:#0d47a1;
  --line:#e6ecf7;
  --shadow: 0 10px 28px rgba(26,37,56,.08);
}

*{box-sizing:border-box}
body{margin:0; background:var(--bg); color:var(--ink); font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;}
.layout{display:grid; grid-template-columns: var(--sidebar-w) 1fr; min-height: calc(100vh - 38px);} /* sisakan footer */

.sidebar{
  position: sticky; top:0; align-self:start; height: calc(100vh - 38px); overflow:auto;
  background:#fff; border-right:1px solid var(--line); padding:18px 16px;
}
.brand{display:flex; align-items:center; gap:12px; margin-bottom:14px}
.logo{
  width:44px;height:44px;border-radius:12px;display:grid;place-items:center;
  background:linear-gradient(135deg,#0d47a1,#2a73ff); color:#fff; font-size:20px; box-shadow:var(--shadow)
}
.brand-meta h1{font-size:18px; font-weight:800; margin:0}
.brand-meta p{margin:0; color:#6b7a99; font-size:12px}

/* KPI */
.kpi{display:flex; flex-direction:column; gap:12px; margin-bottom:14px}
.kpi-item{
  display:flex; align-items:center; gap:12px; padding:12px; border-radius:14px;
  background:#f6f9ff; border:1px dashed #d9e2ff;
}
.kpi-item .icon{font-size:20px}
.kpi-val{font-size:20px; font-weight:800}
.kpi-label{font-size:12px; color:#6b7a99}

/* Nav choice */
.navcard{
  background:#fff; border:1px solid var(--line); border-radius:16px; padding:12px; box-shadow:var(--shadow);
  display:flex; flex-direction:column; gap:8px; margin-bottom:12px;
}
.navcard-title{font-size:12px; letter-spacing:.4px; color:#5c6d8a; font-weight:700; text-transform:uppercase}
.navbtn{
  appearance:none; border:1px solid #dbe5ff; background:#f7faff; color:#1e2b4d;
  padding:10px 12px; border-radius:12px; font-weight:700; cursor:pointer; text-align:left;
  transition:.2s;
}
.navbtn:hover{background:#eef4ff}
.navbtn.active{background:#0d47a1; border-color:#0d47a1; color:#fff; box-shadow:0 6px 18px rgba(13,71,161,.25)}

/* Area visual di sidebar */
.side-visual{display:flex; flex-direction:column; gap:12px}
.card{
  background:var(--card); border-radius:16px; padding:14px; box-shadow: var(--shadow);
  border:1px solid var(--line);
}
.card h6{margin:0 0 8px; font-weight:800}
.donut .hint{display:block; margin-top:6px; color:#74839f; font-size:12px}
.chart-box{ width:100%; }
.chart-box canvas{ width:100% !important; height:auto !important; }

/* legend kecil */
.legend-mini{display:flex; gap:12px; justify-content:center; margin-top:8px; font-size:12px; color:#425371}
.legend-mini .c{display:inline-block; width:10px; height:10px; border-radius:2px; margin-right:6px; vertical-align:middle}
.legend-mini .c1{ background:#2196f3 }
.legend-mini .c2{ background:#43a047 }
.legend-mini .c3{ background:#fbc02d }

.hidden{display:none !important}

/* Peta kanan: full panel */
.content{padding:12px}
.map-only{
  width:100%; height: calc(100vh - 56px); /* viewport tinggi minus header kecil */
  border:0; border-radius:12px; box-shadow: var(--shadow);
}

/* Footer */
.foot{padding:10px 18px; font-size:12px; color:#6b7a99; border-top:1px solid var(--line); background:#fff}

/* Responsif */
@media (max-width: 920px){
  :root{ --sidebar-w: 300px }
}
@media (max-width: 768px){
  .layout{ grid-template-columns: 1fr }
  .sidebar{ position:relative; height:auto; border-right:0; border-bottom:1px solid var(--line); border-radius:0 0 12px 12px; }
  .map-only{ height: 60vh; }
}
